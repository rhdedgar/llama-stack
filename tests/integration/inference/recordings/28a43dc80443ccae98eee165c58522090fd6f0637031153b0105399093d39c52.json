{
  "test_id": "tests/integration/inference/test_provider_error_recording.py::TestProviderErrorRecording::test_provider_rejects_invalid_base64_image[txt=ollama/llama3.2:3b-instruct-fp16]",
  "request": {
    "method": "POST",
    "url": "http://localhost:11434/v1/v1/chat/completions",
    "headers": {},
    "body": {
      "model": "llama3.2:3b-instruct-fp16",
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "What is in this image?"
            },
            {
              "type": "image_url",
              "image_url": {
                "url": "data:image/png;base64,not_valid_base64_data!!!"
              }
            }
          ]
        }
      ]
    },
    "endpoint": "/v1/chat/completions",
    "model": "llama3.2:3b-instruct-fp16"
  },
  "response": {
    "body": null,
    "is_streaming": false,
    "is_exception": true,
    "exception_data": {
      "category": "provider_sdk",
      "provider": "openai",
      "type": "BadRequestError",
      "message": "Error code: 400 - {'error': {'message': 'invalid image input', 'type': 'invalid_request_error', 'param': None, 'code': None}}",
      "status_code": 400,
      "body": {
        "message": "invalid image input",
        "type": "invalid_request_error",
        "param": null,
        "code": null
      }
    },
    "exception_message": "Error code: 400 - {'error': {'message': 'invalid image input', 'type': 'invalid_request_error', 'param': None, 'code': None}}"
  },
  "id_normalization_mapping": {}
}

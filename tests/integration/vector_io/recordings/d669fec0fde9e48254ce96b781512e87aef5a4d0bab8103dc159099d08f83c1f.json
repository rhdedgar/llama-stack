{
  "test_id": "tests/integration/vector_io/test_openai_vector_stores.py::test_openai_vector_store_contextual_vs_static_chunks[client_with_models-vector_io=sqlite-vec-txt=ollama/llama3.2:3b-instruct-fp16:emb=sentence-transformers/nomic-ai/nomic-embed-text-v1.5:dim=768]",
  "request": {
    "method": "POST",
    "url": "http://localhost:11434/v1/v1/chat/completions",
    "headers": {},
    "body": {
      "model": "llama3.2:3b-instruct-fp16",
      "messages": [
        {
          "role": "system",
          "content": "<document>\n# Technical Overview of Machine Learning Systems\n\n## Introduction to Neural Networks\n\nNeural networks are computational models inspired by biological neural networks.\nThey consist of interconnected nodes called neurons organized in layers.\nEach connection has a weight that is adjusted during training.\n\n## Gradient Descent Optimization\n\nThe backpropagation algorithm computes gradients for each layer.\nThese gradients are used to update weights using gradient descent.\nThe learning rate controls the step size during optimization.\n\n## Data Preprocessing\n\nRaw data must be normalized before training.\nFeature scaling ensures all inputs have similar ranges.\nData augmentation can increase the effective training set size.\n\n</document>\nHere is the chunk we want to situate within the whole document\n<chunk>"
        },
        {
          "role": "user",
          "content": "# Technical Overview of Machine Learning Systems\n\n## Introduction to Neural Networks\n\nNeural networks are computational models inspired by biological neural networks.\nThey consist of interconnected nodes called neurons organized in layers.\nEach connection has a weight that is adjusted during training.\n\n## Gradient Descent Optimization\n\nThe backpropagation algorithm computes gradients for each layer.\nThese gradients are used to update weights using gradient descent.\nThe learning rate controls the step size during optimization.\n\n## Data Preprocessing\n\nRaw data must be normalized before training.\nFeature scaling ensures all inputs have similar ranges.\nData augmentation can increase the effective training set size.\n\n</chunk>\nPlease give a short succinct description to situate this chunk of text within the overall document for the purposes of improving search retrieval of the chunk. Answer only with the succinct description and nothing else."
        }
      ],
      "max_tokens": 256,
      "stream": false,
      "temperature": 0.0
    },
    "endpoint": "/v1/chat/completions",
    "model": "llama3.2:3b-instruct-fp16"
  },
  "response": {
    "body": {
      "__type__": "openai.types.chat.chat_completion.ChatCompletion",
      "__data__": {
        "id": "rec-d669fec0fde9",
        "choices": [
          {
            "finish_reason": "stop",
            "index": 0,
            "logprobs": null,
            "message": {
              "content": "\"Key concepts in neural network architecture, optimization, and data preparation.\"",
              "refusal": null,
              "role": "assistant",
              "annotations": null,
              "audio": null,
              "function_call": null,
              "tool_calls": null
            }
          }
        ],
        "created": 0,
        "model": "llama3.2:3b-instruct-fp16",
        "object": "chat.completion",
        "service_tier": null,
        "system_fingerprint": "fp_ollama",
        "usage": {
          "completion_tokens": 15,
          "prompt_tokens": 323,
          "total_tokens": 338,
          "completion_tokens_details": null,
          "prompt_tokens_details": null
        }
      }
    },
    "is_streaming": false
  },
  "id_normalization_mapping": {}
}
